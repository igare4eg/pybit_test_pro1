2025-07-03 19:24:00.768 | ERROR    | server:webhook:70 - Ошибка сервера: Expecting property name enclosed in double quotes: line 2 column 5 (char 7)
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "C:\Users\igare\AppData\Local\Programs\Python\Python312\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 356
               │     └ 3
               └ <function _main at 0x0000025A98D55800>
  File "C:\Users\igare\AppData\Local\Programs\Python\Python312\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 356
           │    └ <function BaseProcess._bootstrap at 0x0000025A98B62700>
           └ <SpawnProcess name='SpawnProcess-1' parent=19076 started>
  File "C:\Users\igare\AppData\Local\Programs\Python\Python312\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025A98B61C60>
    └ <SpawnProcess name='SpawnProcess-1' parent=19076 started>
  File "C:\Users\igare\AppData\Local\Programs\Python\Python312\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025A98D34470>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=19076 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=19076 started>
    │    └ <function subprocess_started at 0x0000025A9B0AB2E0>
    └ <SpawnProcess name='SpawnProcess-1' parent=19076 started>
  File "C:\Users\igare\PycharmProjects\pybit_test_pro\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=332, family=2, type=1, proto=6, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000025A9B0F0620>>
  File "C:\Users\igare\PycharmProjects\pybit_test_pro\.venv\Lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=332, family=2, type=1, proto=6, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x0000025A9B0AA840>
           │       │   └ <uvicorn.server.Server object at 0x0000025A9B0F0620>
           │       └ <function run at 0x0000025A9A8B5C60>
           └ <module 'asyncio' from 'C:\\Users\\igare\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\asyncio\\__init__.py'>
  File "C:\Users\igare\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x0000025A9B02FAE0>
           │      └ <function Runner.run at 0x0000025A9A974CC0>
           └ <asyncio.runners.Runner object at 0x0000025A98D11280>
  File "C:\Users\igare\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Users\igare\PycharmProjects\pybit_test_pro\.venv\Lib\site-pack...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000025A9A9728E0>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000025A98D11280>
  File "C:\Users\igare\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 651, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025A9A972840>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\igare\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 618, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025A9A974680>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\igare\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1951, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025A9A8B6A20>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000025A9D4FD2D0>()>
  File "C:\Users\igare\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000025A9D4FD2D0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000025A9D4FD2D0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000025A9D4FD2D0>()>
  File "C:\Users\igare\PycharmProjects\pybit_test_pro\.venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025A9AA0F020>
  File "C:\Users\igare\PycharmProjects\pybit_test_pro\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025A9D4FD0D0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025A9D4FD...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000025A9C0A7530>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025A9AA0F020>
  File "C:\Users\igare\PycharmProjects\pybit_test_pro\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025A9D4FD0D0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025A9D4FD...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Users\igare\PycharmProjects\pybit_test_pro\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025A9D4FD0D0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025A9D4FD...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025A9C414E30>
          └ <fastapi.applications.FastAPI object at 0x0000025A9C0A7530>
  File "C:\Users\igare\PycharmProjects\pybit_test_pro\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025A9B0ED080>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025A9D4FD...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025A9C50F9B0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025A9C414E30>
  File "C:\Users\igare\PycharmProjects\pybit_test_pro\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025A9B0ED080>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025A9D4FD...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x0000025A9D4FF7D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000025A9C50F260>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025A9C50F9B0>
          └ <function wrap_app_handling_exceptions at 0x0000025A9C088A40>
  File "C:\Users\igare\PycharmProjects\pybit_test_pro\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025A9D4F2980>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025A9D4FD...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x0000025A9C50F260>
  File "C:\Users\igare\PycharmProjects\pybit_test_pro\.venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025A9D4F2980>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025A9D4FD...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000025A9C50F260>>
          └ <fastapi.routing.APIRouter object at 0x0000025A9C50F260>
  File "C:\Users\igare\PycharmProjects\pybit_test_pro\.venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025A9D4F2980>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025A9D4FD...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x0000025A9C089F80>
          └ APIRoute(path='/webhook', name='webhook', methods=['POST'])
  File "C:\Users\igare\PycharmProjects\pybit_test_pro\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025A9D4F2980>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025A9D4FD...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x0000025A9D4F25C0>
          └ APIRoute(path='/webhook', name='webhook', methods=['POST'])
  File "C:\Users\igare\PycharmProjects\pybit_test_pro\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025A9D4F2980>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025A9D4FD...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x0000025A9D4FCE30>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000025A9D4F2840>
          └ <function wrap_app_handling_exceptions at 0x0000025A9C088A40>
  File "C:\Users\igare\PycharmProjects\pybit_test_pro\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025A9D4F2660>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025A9D4FD...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000025A9D4F2840>
  File "C:\Users\igare\PycharmProjects\pybit_test_pro\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x0000025A9D4FCE30>
                     └ <function get_request_handler.<locals>.app at 0x0000025A9D4F2520>
  File "C:\Users\igare\PycharmProjects\pybit_test_pro\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000025A9C088400>
  File "C:\Users\igare\PycharmProjects\pybit_test_pro\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x0000025A9D4FCE30>}
                 │         └ <function webhook at 0x0000025A9D4F23E0>
                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], security_requ...

> File "C:\Users\igare\PycharmProjects\pybit_test_pro\server.py", line 28, in webhook
    data = await request.json()
                 │       └ <function Request.json at 0x0000025A9C00AA20>
                 └ <starlette.requests.Request object at 0x0000025A9D4FCE30>

  File "C:\Users\igare\PycharmProjects\pybit_test_pro\.venv\Lib\site-packages\starlette\requests.py", line 249, in json
    self._json = json.loads(body)
    │            │    │     └ b"{\r\n    'test':'test'\r\n}"
    │            │    └ <function loads at 0x0000025A9AE48FE0>
    │            └ <module 'json' from 'C:\\Users\\igare\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\__init__.py'>
    └ <starlette.requests.Request object at 0x0000025A9D4FCE30>
  File "C:\Users\igare\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           │                │      └ "{\r\n    'test':'test'\r\n}"
           │                └ <function JSONDecoder.decode at 0x0000025A9AE489A0>
           └ <json.decoder.JSONDecoder object at 0x0000025A9A99B3B0>
  File "C:\Users\igare\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               │    │          │      │  └ "{\r\n    'test':'test'\r\n}"
               │    │          │      └ <built-in method match of re.Pattern object at 0x0000025A9A9BF920>
               │    │          └ "{\r\n    'test':'test'\r\n}"
               │    └ <function JSONDecoder.raw_decode at 0x0000025A9AE48A40>
               └ <json.decoder.JSONDecoder object at 0x0000025A9A99B3B0>
  File "C:\Users\igare\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               │    │         │  └ 0
               │    │         └ "{\r\n    'test':'test'\r\n}"
               │    └ <_json.Scanner object at 0x0000025A9A9D7E20>
               └ <json.decoder.JSONDecoder object at 0x0000025A9A99B3B0>

json.decoder.JSONDecodeError: Expecting property name enclosed in double quotes: line 2 column 5 (char 7)
